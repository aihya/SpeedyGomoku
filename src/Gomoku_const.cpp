
#include "Gomoku.hpp"

const Gomoku::t_pattern_dict Gomoku::_attack_patterns = {
    {
        Gomoku::BLACK, {
            {0b010101010100, Gomoku::FIVE_SCORE},
            {0b010101010110, Gomoku::FIVE_SCORE},
            {0b010101010111, Gomoku::FIVE_SCORE},
            {0b000101010101, Gomoku::FIVE_SCORE},
            {0b100101010101, Gomoku::FIVE_SCORE},
            {0b110101010101, Gomoku::FIVE_SCORE},

            {0b000101010100, Gomoku::OPEN_FOUR_SCORE},
            {0b110101010100, Gomoku::FOUR_SCORE},
            {0b100101010100, Gomoku::FOUR_SCORE},
            {0b000101010111, Gomoku::FOUR_SCORE},
            {0b000101010110, Gomoku::FOUR_SCORE},
            {0b000101010000, Gomoku::OPEN_THREE_SCORE},
            {0b000101010011, Gomoku::OPEN_THREE_SCORE},
            {0b000101010010, Gomoku::OPEN_THREE_SCORE},
            {0b000101010001, Gomoku::OPEN_THREE_SCORE},
            {0b000001010100, Gomoku::OPEN_THREE_SCORE},
            {0b110001010100, Gomoku::OPEN_THREE_SCORE},
            {0b100001010100, Gomoku::OPEN_THREE_SCORE},
            {0b010001010100, Gomoku::OPEN_THREE_SCORE},
            {0b000100010100, Gomoku::OPEN_THREE_SCORE},
            {0b000101000100, Gomoku::OPEN_THREE_SCORE},
            {0b000001010110, Gomoku::THREE_SCORE},
            {0b000001010111, Gomoku::THREE_SCORE},
            {0b100101010000, Gomoku::THREE_SCORE},
            {0b110101010000, Gomoku::THREE_SCORE},
            {0b000101000000, Gomoku::OPEN_TWO_SCORE},
            {0b000101000010, Gomoku::OPEN_TWO_SCORE},
            {0b000101000011, Gomoku::OPEN_TWO_SCORE},
            {0b000001010000, Gomoku::OPEN_TWO_SCORE},
            {0b000001010010, Gomoku::OPEN_TWO_SCORE},
            {0b000001010011, Gomoku::OPEN_TWO_SCORE},
            {0b000001010000, Gomoku::OPEN_TWO_SCORE},
            {0b100001010000, Gomoku::OPEN_TWO_SCORE},
            {0b110001010000, Gomoku::OPEN_TWO_SCORE},
            {0b000000010100, Gomoku::OPEN_TWO_SCORE},
            {0b100000010100, Gomoku::OPEN_TWO_SCORE},
            {0b110000010100, Gomoku::OPEN_TWO_SCORE},
            {0b000000010111, Gomoku::TWO_SCORE},
            {0b000001000110, Gomoku::TWO_SCORE},
            {0b100100010000, Gomoku::TWO_SCORE},
            {0b110101000000, Gomoku::TWO_SCORE},
        }
    },
    {
        Gomoku::WHITE, {
            {0b101010101000, Gomoku::FIVE_SCORE},
            {0b101010101001, Gomoku::FIVE_SCORE},
            {0b101010101011, Gomoku::FIVE_SCORE},
            {0b001010101010, Gomoku::FIVE_SCORE},
            {0b011010101010, Gomoku::FIVE_SCORE},
            {0b111010101010, Gomoku::FIVE_SCORE},
            {0b001010101000, Gomoku::OPEN_FOUR_SCORE},
            {0b111010101000, Gomoku::FOUR_SCORE},
            {0b011010101000, Gomoku::FOUR_SCORE},
            {0b001010101011, Gomoku::FOUR_SCORE},
            {0b001010101001, Gomoku::FOUR_SCORE},
            {0b001010100000, Gomoku::OPEN_THREE_SCORE},
            {0b001010100011, Gomoku::OPEN_THREE_SCORE},
            {0b001010100001, Gomoku::OPEN_THREE_SCORE},
            {0b001010100010, Gomoku::OPEN_THREE_SCORE},
            {0b000010101000, Gomoku::OPEN_THREE_SCORE},
            {0b110010101000, Gomoku::OPEN_THREE_SCORE},
            {0b010010101000, Gomoku::OPEN_THREE_SCORE},
            {0b100010101000, Gomoku::OPEN_THREE_SCORE},
            {0b001000101000, Gomoku::OPEN_THREE_SCORE},
            {0b001010001000, Gomoku::OPEN_THREE_SCORE},
            {0b000010101001, Gomoku::THREE_SCORE},
            {0b000010101011, Gomoku::THREE_SCORE},
            {0b011010100000, Gomoku::THREE_SCORE},
            {0b111010100000, Gomoku::THREE_SCORE},
            {0b001010000000, Gomoku::OPEN_TWO_SCORE},
            {0b001010000001, Gomoku::OPEN_TWO_SCORE},
            {0b001010000011, Gomoku::OPEN_TWO_SCORE},
            {0b000010100000, Gomoku::OPEN_TWO_SCORE},
            {0b000010100001, Gomoku::OPEN_TWO_SCORE},
            {0b000010100011, Gomoku::OPEN_TWO_SCORE},
            {0b000010100000, Gomoku::OPEN_TWO_SCORE},
            {0b010010100000, Gomoku::OPEN_TWO_SCORE},
            {0b110010100000, Gomoku::OPEN_TWO_SCORE},
            {0b000000101000, Gomoku::OPEN_TWO_SCORE},
            {0b010000101000, Gomoku::OPEN_TWO_SCORE},
            {0b110000101000, Gomoku::OPEN_TWO_SCORE},
            {0b000010001001, Gomoku::TWO_SCORE},
            {0b000000101011, Gomoku::TWO_SCORE},
            {0b0110001000000, Gomoku::TWO_SCORE},
            {0b111010000000, Gomoku::TWO_SCORE},
        },
    }
};

const Gomoku::t_pattern_dict Gomoku::_illegal_patterns
{
    {
        Gomoku::BLACK, {
            {0b000101010000, Gomoku::ILLEGAL_SCORE},
            {0b000101010011, Gomoku::ILLEGAL_SCORE},
            {0b000101010010, Gomoku::ILLEGAL_SCORE},
            {0b000101010001, Gomoku::ILLEGAL_SCORE},
            {0b000001010100, Gomoku::ILLEGAL_SCORE},
            {0b110001010100, Gomoku::ILLEGAL_SCORE},
            {0b100001010100, Gomoku::ILLEGAL_SCORE},
            {0b010001010100, Gomoku::ILLEGAL_SCORE},
            {0b000100010100, Gomoku::ILLEGAL_SCORE},
            {0b000101000100, Gomoku::ILLEGAL_SCORE},
            {0b100101100000, Gomoku::ILLEGAL_SCORE},
            {0b100101100010, Gomoku::ILLEGAL_SCORE},
            {0b100101100011, Gomoku::ILLEGAL_SCORE},
            {0b100101100001, Gomoku::ILLEGAL_SCORE},
            {0b100101101000, Gomoku::ILLEGAL_SCORE},
            {0b100101101010, Gomoku::ILLEGAL_SCORE},
            {0b100101101011, Gomoku::ILLEGAL_SCORE},
            {0b100101101001, Gomoku::ILLEGAL_SCORE},
            {0b100101101100, Gomoku::ILLEGAL_SCORE},
            {0b100101101110, Gomoku::ILLEGAL_SCORE},
            {0b100101101111, Gomoku::ILLEGAL_SCORE},
            {0b100101101101, Gomoku::ILLEGAL_SCORE},
            {0b100101100100, Gomoku::ILLEGAL_SCORE},
            {0b100101100110, Gomoku::ILLEGAL_SCORE},
            {0b100101100111, Gomoku::ILLEGAL_SCORE},
            {0b100101100101, Gomoku::ILLEGAL_SCORE},
            {0b000010010110, Gomoku::ILLEGAL_SCORE},
            {0b001010010110, Gomoku::ILLEGAL_SCORE},
            {0b001110010110, Gomoku::ILLEGAL_SCORE},
            {0b000110010110, Gomoku::ILLEGAL_SCORE},
            {0b100010010110, Gomoku::ILLEGAL_SCORE},
            {0b101010010110, Gomoku::ILLEGAL_SCORE},
            {0b101110010110, Gomoku::ILLEGAL_SCORE},
            {0b100110010110, Gomoku::ILLEGAL_SCORE},
            {0b110010010110, Gomoku::ILLEGAL_SCORE},
            {0b111010010110, Gomoku::ILLEGAL_SCORE},
            {0b111110010110, Gomoku::ILLEGAL_SCORE},
            {0b110110010110, Gomoku::ILLEGAL_SCORE},
            {0b010010010110, Gomoku::ILLEGAL_SCORE},
            {0b011010010110, Gomoku::ILLEGAL_SCORE},
            {0b011110010110, Gomoku::ILLEGAL_SCORE},
            {0b010110010110, Gomoku::ILLEGAL_SCORE},
        }
    },
    {
        Gomoku::WHITE, {
            { 0b001010100000, Gomoku::ILLEGAL_SCORE},
            { 0b001010100011, Gomoku::ILLEGAL_SCORE},
            { 0b001010100001, Gomoku::ILLEGAL_SCORE},
            { 0b001010100010, Gomoku::ILLEGAL_SCORE},
            { 0b000010101000, Gomoku::ILLEGAL_SCORE},
            { 0b110010101000, Gomoku::ILLEGAL_SCORE},
            { 0b010010101000, Gomoku::ILLEGAL_SCORE},
            { 0b100010101000, Gomoku::ILLEGAL_SCORE},
            { 0b001000101000, Gomoku::ILLEGAL_SCORE},
            { 0b001010001000, Gomoku::ILLEGAL_SCORE},
            { 0b011010010000, Gomoku::ILLEGAL_SCORE},
            { 0b011010010010, Gomoku::ILLEGAL_SCORE},
            { 0b011010010011, Gomoku::ILLEGAL_SCORE},
            { 0b011010010001, Gomoku::ILLEGAL_SCORE},
            { 0b011010011000, Gomoku::ILLEGAL_SCORE},
            { 0b011010011010, Gomoku::ILLEGAL_SCORE},
            { 0b011010011011, Gomoku::ILLEGAL_SCORE},
            { 0b011010011001, Gomoku::ILLEGAL_SCORE},
            { 0b011010011100, Gomoku::ILLEGAL_SCORE},
            { 0b011010011110, Gomoku::ILLEGAL_SCORE},
            { 0b011010011111, Gomoku::ILLEGAL_SCORE},
            { 0b011010011101, Gomoku::ILLEGAL_SCORE},
            { 0b011010010100, Gomoku::ILLEGAL_SCORE},
            { 0b011010010110, Gomoku::ILLEGAL_SCORE},
            { 0b011010010111, Gomoku::ILLEGAL_SCORE},
            { 0b011010010101, Gomoku::ILLEGAL_SCORE},
            { 0b000001101001, Gomoku::ILLEGAL_SCORE},
            { 0b001001101001, Gomoku::ILLEGAL_SCORE},
            { 0b001101101001, Gomoku::ILLEGAL_SCORE},
            { 0b000101101001, Gomoku::ILLEGAL_SCORE},
            { 0b100001101001, Gomoku::ILLEGAL_SCORE},
            { 0b101001101001, Gomoku::ILLEGAL_SCORE},
            { 0b101101101001, Gomoku::ILLEGAL_SCORE},
            { 0b100101101001, Gomoku::ILLEGAL_SCORE},
            { 0b110001101001, Gomoku::ILLEGAL_SCORE},
            { 0b111001101001, Gomoku::ILLEGAL_SCORE},
            { 0b111101101001, Gomoku::ILLEGAL_SCORE},
            { 0b110101101001, Gomoku::ILLEGAL_SCORE},
            { 0b010001101001, Gomoku::ILLEGAL_SCORE},
            { 0b011001101001, Gomoku::ILLEGAL_SCORE},
            { 0b011101101001, Gomoku::ILLEGAL_SCORE},
            { 0b010101101001, Gomoku::ILLEGAL_SCORE},
        },
    }
};

const Gomoku::t_pattern_dict Gomoku::_defense_patterns = {
    {
        Gomoku::BLACK, {
            { 0b011010101011, Gomoku::FIVE_BLOCK_SCORE},
            { 0b011010101001, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101001101010, Gomoku::FIVE_BLOCK_SCORE},
            { 0b011001101010, Gomoku::FIVE_BLOCK_SCORE},
            { 0b111001101010, Gomoku::FIVE_BLOCK_SCORE},
            { 0b001001101010, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101010011010, Gomoku::FIVE_BLOCK_SCORE},
            { 0b011010011010, Gomoku::FIVE_BLOCK_SCORE},
            { 0b111010011010, Gomoku::FIVE_BLOCK_SCORE},
            { 0b001010011010, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101010100110, Gomoku::FIVE_BLOCK_SCORE},
            { 0b011010100110, Gomoku::FIVE_BLOCK_SCORE},
            { 0b111010100110, Gomoku::FIVE_BLOCK_SCORE},
            { 0b001010100110, Gomoku::FIVE_BLOCK_SCORE},
            { 0b110110101010, Gomoku::FIVE_BLOCK_SCORE},
            { 0b100110101000, Gomoku::FIVE_BLOCK_SCORE},
            { 0b100110101011, Gomoku::FIVE_BLOCK_SCORE},
            { 0b100110101010, Gomoku::FIVE_BLOCK_SCORE},
            { 0b100110101001, Gomoku::FIVE_BLOCK_SCORE},
            { 0b111001101010, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101001101000, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101001101011, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101001101010, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101001101001, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101010011000, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101010011011, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101010011010, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101010011001, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101010100100, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101010100111, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101010100110, Gomoku::FIVE_BLOCK_SCORE},
            { 0b101010100101, Gomoku::FIVE_BLOCK_SCORE},
// Block Free threes ----- generated by capture ---
            { 0b011010100000, Gomoku::OPEN_BLOCK_SCORE},
            { 0b001010100100, Gomoku::OPEN_BLOCK_SCORE},
            { 0b000010101001, Gomoku::OPEN_BLOCK_SCORE},
            { 0b000110101000, Gomoku::OPEN_BLOCK_SCORE},
            { 0b011010100011, Gomoku::OPEN_BLOCK_SCORE},
            { 0b011010100001, Gomoku::OPEN_BLOCK_SCORE},
            { 0b010010101001, Gomoku::OPEN_BLOCK_SCORE},
            { 0b110010101001, Gomoku::OPEN_BLOCK_SCORE},
            { 0b001010011000, Gomoku::OPEN_BLOCK_SCORE},

// ------------------------------------------------        

        }
    },
    {
        Gomoku::WHITE, {
            { 0b100101010111, Gomoku::FIVE_BLOCK_SCORE},
            { 0b100101010110, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010110010101, Gomoku::FIVE_BLOCK_SCORE},
            { 0b100110010101, Gomoku::FIVE_BLOCK_SCORE},
            { 0b110110010101, Gomoku::FIVE_BLOCK_SCORE},
            { 0b000110010101, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010101100101, Gomoku::FIVE_BLOCK_SCORE},
            { 0b100101100101, Gomoku::FIVE_BLOCK_SCORE},
            { 0b110101100101, Gomoku::FIVE_BLOCK_SCORE},
            { 0b000101100101, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010101011001, Gomoku::FIVE_BLOCK_SCORE},
            { 0b100101011001, Gomoku::FIVE_BLOCK_SCORE},
            { 0b110101011001, Gomoku::FIVE_BLOCK_SCORE},
            { 0b000101011001, Gomoku::FIVE_BLOCK_SCORE},
            { 0b111001010101, Gomoku::FIVE_BLOCK_SCORE},
            { 0b011001010100, Gomoku::FIVE_BLOCK_SCORE},
            { 0b011001010111, Gomoku::FIVE_BLOCK_SCORE},
            { 0b011001010101, Gomoku::FIVE_BLOCK_SCORE},
            { 0b011001010110, Gomoku::FIVE_BLOCK_SCORE},
            { 0b110110010101, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010110010100, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010110010111, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010110010101, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010110010110, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010101100100, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010101100111, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010101100101, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010101100110, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010101011000, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010101011011, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010101011001, Gomoku::FIVE_BLOCK_SCORE},
            { 0b010101011010, Gomoku::FIVE_BLOCK_SCORE},

// Block Free threes ----- generated by capture ---
            { 0b100101010000, Gomoku::OPEN_BLOCK_SCORE},
            { 0b000101011000, Gomoku::OPEN_BLOCK_SCORE},
            { 0b000001010110, Gomoku::OPEN_BLOCK_SCORE},
            { 0b001001010100, Gomoku::OPEN_BLOCK_SCORE},
            { 0b100101010011, Gomoku::OPEN_BLOCK_SCORE},
            { 0b100101010010, Gomoku::OPEN_BLOCK_SCORE},
            { 0b100001010110, Gomoku::OPEN_BLOCK_SCORE},
            { 0b110001010110, Gomoku::OPEN_BLOCK_SCORE},
            { 0b000101100100, Gomoku::OPEN_BLOCK_SCORE},
// ------------------------------------------------    
        }
    },
};

const Gomoku::t_pattern_dict Gomoku::_capture_patterns
{
    {

        Gomoku::BLACK, {
            { 0b011010010000, Gomoku::CAPTURE_SCORE },
            { 0b011010010010, Gomoku::CAPTURE_SCORE },
            { 0b011010010011, Gomoku::CAPTURE_SCORE },
            { 0b011010010001, Gomoku::CAPTURE_SCORE },
            { 0b011010011000, Gomoku::CAPTURE_SCORE },
            { 0b011010011010, Gomoku::CAPTURE_SCORE },
            { 0b011010011011, Gomoku::CAPTURE_SCORE },
            { 0b011010011001, Gomoku::CAPTURE_SCORE },
            { 0b011010011100, Gomoku::CAPTURE_SCORE },
            { 0b011010011110, Gomoku::CAPTURE_SCORE },
            { 0b011010011111, Gomoku::CAPTURE_SCORE },
            { 0b011010011101, Gomoku::CAPTURE_SCORE },
            { 0b011010010100, Gomoku::CAPTURE_SCORE },
            { 0b011010010110, Gomoku::CAPTURE_SCORE },
            { 0b011010010111, Gomoku::CAPTURE_SCORE },
            { 0b011010010101, Gomoku::CAPTURE_SCORE },
            { 0b000001101001, Gomoku::CAPTURE_SCORE },
            { 0b001001101001, Gomoku::CAPTURE_SCORE },
            { 0b001101101001, Gomoku::CAPTURE_SCORE },
            { 0b000101101001, Gomoku::CAPTURE_SCORE },
            { 0b100001101001, Gomoku::CAPTURE_SCORE },
            { 0b101001101001, Gomoku::CAPTURE_SCORE },
            { 0b101101101001, Gomoku::CAPTURE_SCORE },
            { 0b100101101001, Gomoku::CAPTURE_SCORE },
            { 0b110001101001, Gomoku::CAPTURE_SCORE },
            { 0b111001101001, Gomoku::CAPTURE_SCORE },
            { 0b111101101001, Gomoku::CAPTURE_SCORE },
            { 0b110101101001, Gomoku::CAPTURE_SCORE },
            { 0b010001101001, Gomoku::CAPTURE_SCORE },
            { 0b011001101001, Gomoku::CAPTURE_SCORE },
            { 0b011101101001, Gomoku::CAPTURE_SCORE },
            { 0b010101101001, Gomoku::CAPTURE_SCORE },
        }
    },
    {
        Gomoku::WHITE, {
            { 0b100101100000, Gomoku::CAPTURE_SCORE },
            { 0b100101100010, Gomoku::CAPTURE_SCORE },
            { 0b100101100011, Gomoku::CAPTURE_SCORE },
            { 0b100101100001, Gomoku::CAPTURE_SCORE },
            { 0b100101101000, Gomoku::CAPTURE_SCORE },
            { 0b100101101010, Gomoku::CAPTURE_SCORE },
            { 0b100101101011, Gomoku::CAPTURE_SCORE },
            { 0b100101101001, Gomoku::CAPTURE_SCORE },
            { 0b100101101100, Gomoku::CAPTURE_SCORE },
            { 0b100101101110, Gomoku::CAPTURE_SCORE },
            { 0b100101101111, Gomoku::CAPTURE_SCORE },
            { 0b100101101101, Gomoku::CAPTURE_SCORE },
            { 0b100101100100, Gomoku::CAPTURE_SCORE },
            { 0b100101100110, Gomoku::CAPTURE_SCORE },
            { 0b100101100111, Gomoku::CAPTURE_SCORE },
            { 0b100101100101, Gomoku::CAPTURE_SCORE },
            { 0b000010010110, Gomoku::CAPTURE_SCORE },
            { 0b001010010110, Gomoku::CAPTURE_SCORE },
            { 0b001110010110, Gomoku::CAPTURE_SCORE },
            { 0b000110010110, Gomoku::CAPTURE_SCORE },
            { 0b100010010110, Gomoku::CAPTURE_SCORE },
            { 0b101010010110, Gomoku::CAPTURE_SCORE },
            { 0b101110010110, Gomoku::CAPTURE_SCORE },
            { 0b100110010110, Gomoku::CAPTURE_SCORE },
            { 0b110010010110, Gomoku::CAPTURE_SCORE },
            { 0b111010010110, Gomoku::CAPTURE_SCORE },
            { 0b111110010110, Gomoku::CAPTURE_SCORE },
            { 0b110110010110, Gomoku::CAPTURE_SCORE },
            { 0b010010010110, Gomoku::CAPTURE_SCORE },
            { 0b011010010110, Gomoku::CAPTURE_SCORE },
            { 0b011110010110, Gomoku::CAPTURE_SCORE },
            { 0b010110010110, Gomoku::CAPTURE_SCORE },
        },
    }
};

const std::array<Gomoku::t_coord, 4> Gomoku::_directions {{
    {0, 1},
    {1, 0},
    {-1, 1},
    {1, 1}
}};

const std::vector<Gomoku::t_coord> Gomoku::_moveset_cells {
    {0, -1},
    {0, 1},
    {-1, 0},
    {1, 0},
    {1, -1},
    {-1, 1},
    {1, 1},
    {-1, -1},
};

const Gomoku::t_pattern_dict Gomoku::_potential_capture = {
    {
        Gomoku::BLACK, {
            {0b00010110, Gomoku::ZERO_SCORE},
            {0b10010100, Gomoku::ZERO_SCORE},
        }
    },
    {
        Gomoku::WHITE, {
            {0b00101001, Gomoku::ZERO_SCORE},
            {0b01101000, Gomoku::ZERO_SCORE},
        },
    }
};

// const Gomoku::t_pattern_dict Gomoku::_attack_patterns = {
//     {
//         Gomoku::BLACK, {
//             {0b010101010100, Gomoku::FIVE_SCORE},
//         }
//     },
//     {
//         Gomoku::WHITE, {
//             {0b101010101000, Gomoku::FIVE_SCORE},
//         },
//     }
// };
const Gomoku::t_coord Gomoku::_invalid_coord = { -1, -1 };
